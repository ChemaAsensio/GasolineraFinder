<div class="summary-box">
  <!-- ğŸ“… INFORMACIÃ“N TEMPORAL -->
  <div class="summary-section">
    <h3 class="section-title">ğŸ“… INFORMACIÃ“N TEMPORAL</h3>
    <div class="info-row">
      <span class="info-label">ğŸ• Hora actual:</span>
      <span class="info-value">{{ horaActual }}</span>
    </div>
    <div class="info-row">
      <span class="info-label">ğŸ”„ Actualizado hace:</span>
      <span class="info-value">{{ actualizadoHace }}</span>
    </div>
  </div>

  <!-- ğŸ“ INFORMACIÃ“N GEOGRÃFICA -->
  <div class="summary-section">
    <h3 class="section-title">ğŸ“ INFORMACIÃ“N GEOGRÃFICA</h3>
    <div class="info-row">
      <span class="info-label">ğŸ“ UbicaciÃ³n consultada:</span>
      <span class="info-value">{{ stations[0]?.provincia || 'Desconocida' }}</span>
    </div>
    <div class="info-row">
      <span class="info-label">ğŸ“ Radio de bÃºsqueda:</span>
      <select [(ngModel)]="radioSeleccionado" (change)="onRadioChange()" class="custom-select">
        <option [value]="5">5 km</option>
        <option [value]="10">10 km</option>
        <option [value]="20">20 km</option>
        <option [value]="50">50 km</option>
      </select>
    </div>
  </div>

  <!-- âš™ï¸ CONFIGURACIÃ“N -->
  <div class="summary-section">
    <h3 class="section-title">âš™ï¸ CONFIGURACIÃ“N</h3>
    
    <div class="config-row">
      <div class="config-group">
        <span class="info-label">ğŸ”½ Ordenar por:</span>
        <select [(ngModel)]="ordenSeleccionado" (change)="onOrdenChange()" class="custom-select">
          <option value="distance">Distancia (mÃ¡s cercana primero)</option>
          <option value="price">Precio (mÃ¡s barata primero)</option>
        </select>
      </div>
      
      <div class="config-group">
        <span class="info-label">â›½ Tipo de combustible:</span>
        <select [(ngModel)]="combustibleSeleccionado" (change)="onCombustibleChange()" class="custom-select">
          <option *ngFor="let tipo of tiposCombustible" [value]="tipo.value">
            {{ tipo.label }}
          </option>
        </select>
      </div>
    </div>
  </div>

  <!-- â›½ TOP 10 GASOLINERAS -->
  <div class="summary-section">
    <h3 class="section-title">â›½ GASOLINERAS (Top 10)</h3>
    
    <div *ngIf="topGasolineras.length > 0; else noResults" class="gasolineras-table-container">
      <table class="gasolineras-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Gasolinera</th>
            <th>Precio</th>
            <th>Distancia</th>
            <th>DirecciÃ³n</th>
            <th>Horario</th>
            <th>ValoraciÃ³n</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let gasolinera of topGasolineras; let i = index" 
              [class.destacada]="i === 0">
            <td class="col-posicion">{{ i + 1 }}</td>
            <td class="col-gasolinera">
              <strong>{{ gasolinera.rotulo }}</strong><br>
              <small>{{ obtenerEmpresa(gasolinera) }}</small>
            </td>
            <td class="col-precio">
              <strong>â‚¬{{ obtenerPrecioGasolinera(gasolinera, combustibleSeleccionado).toFixed(3) }}</strong><br>
              <small>/L</small>
            </td>
            <td class="col-distancia">
              {{ obtenerDistanciaSimulada(i).toFixed(1) }} km
            </td>
            <td class="col-direccion">
              {{ gasolinera.direccion || 'DirecciÃ³n no disponible' }}
            </td>
            <td class="col-horario">
              {{ obtenerHorarioFormateado(gasolinera.horario) }}
            </td>
            <td class="col-valoracion">
              {{ obtenerValoracionEstrellas() }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    
    <ng-template #noResults>
      <div class="no-results">
        <p>No se encontraron gasolineras con los filtros aplicados.</p>
      </div>
    </ng-template>
    
    <div class="results-info">
      <p>Mostrando {{ topGasolineras.length }} de {{ stations.length }} gasolineras encontradas</p>
    </div>
  </div>
</div>