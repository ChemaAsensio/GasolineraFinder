<div class="filters-container">
  

  <!-- Tipo de combustible - BOTONES INLINE -->
  <div class="filter-group">
    <label class="filter-label">Tipo de combustible:</label>
    <div class="combustible-buttons">
      <button 
        *ngFor="let tipo of tiposCombustible"
        type="button"
        class="combustible-btn"
        [class.active]="filters.fuelType === tipo.value"
        (click)="onCombustibleChange(tipo.value)">
        {{ tipo.label }}
      </button>
    </div>
  </div>

  <!-- Empresas -->
  <div class="filter-group empresas-filter-group">
    <label class="filter-label">Empresas:</label>
    
    <!-- Selector de modo: Incluir/Excluir -->
    <div class="mode-selector">
      <label for="companyMode">Modo:</label>
      <select 
        id="companyMode" 
        class="form-select mode-select"
        [(ngModel)]="filters.companyMode"
        (ngModelChange)="onCompanyModeChange($event)">
        <option value="include">Incluir seleccionadas</option>
        <option value="exclude">Excluir seleccionadas</option>
      </select>
      
    </div>

    <!-- Lista de empresas principales -->
    <div class="empresas-list">
      <div *ngFor="let empresa of empresasPrincipales" class="empresa-checkbox">
        <input 
          type="checkbox" 
          [id]="'empresa-' + empresa"
          [checked]="isEmpresaSeleccionada(empresa)"
          (change)="toggleCompany(empresa, $event)"
        />
        <label [for]="'empresa-' + empresa">{{ empresa }}</label>
      </div>
    </div>
  </div>

  <!-- Distancia máxima - SLIDER ANCHO -->
  <div class="filter-group">
    <div class="slider-header">
      <label class="filter-label">
        Distancia máxima: <strong class="valor-display">{{ distanciaDisplay }}</strong>
      </label>
    </div>
    <div class="slider-container-wide">
      <input 
        type="range" 
        class="form-range-wide"
        min="1" 
        max="100" 
        step="1"
        [ngModel]="filters.maxDistance"
        (ngModelChange)="onDistanciaChange($event)"
        #distanciaSlider
      />
      <div class="slider-labels-wide">
        <span>1 km</span>
        <span>100 km</span>
      </div>
    </div>
  </div>

  <!-- Precio máximo - SLIDER ANCHO -->
  <div class="filter-group">
    <div class="slider-header">
      <label class="filter-label">
        Precio máximo: <strong class="valor-display">{{ precioDisplay }}</strong>
      </label>
    </div>
    <div class="slider-container-wide">
      <input 
        type="range" 
        class="form-range-wide"
        min="0" 
        max="3" 
        step="0.010"
        [ngModel]="filters.maxPrice"
        (ngModelChange)="onPrecioChange($event)"
        #precioSlider
      />
      <div class="slider-labels-wide">
        <span>0 €</span>
        <span>3 €/L</span>
      </div>
    </div>
  </div>

  <!-- Solo abiertas -->
  <div class="filter-group">
    <div class="checkbox-container">
      <input 
        type="checkbox" 
        id="only-open" 
        [checked]="filters.onlyOpen"
        (change)="onOnlyOpenChange($event)"
      />
      <label for="only-open">Solo gasolineras abiertas</label>
    </div>
  </div>

  <!-- Ordenar por - BOTONES INLINE -->
  <div class="filter-group">
    <label class="filter-label">Ordenar por:</label>
    <div class="ordenar-buttons">
      <button 
        type="button"
        class="ordenar-btn"
        [class.active]="filters.sortBy === 'distance'"
        (click)="onOrdenChange('distance')">
        Distancia
      </button>
      <button 
        type="button"
        class="ordenar-btn"
        [class.active]="filters.sortBy === 'price'"
        (click)="onOrdenChange('price')">
        Precio
      </button>
    </div>
  </div>
</div>